	card Navbar
		state
			String currentTab
			
		template
			#header : 'nav-bar'
				. : 'w-container'
					. : 'w-row'
						. : 'w-col' 'w-col-4' 'brand-column'
							#img @src='../images/chaddy.jpg' @width='32' : 'logo'
							. : 'company'
								'Chaddy'
						#nav : 'w-col' 'w-col-8' 'nav-column'
.							#a  @title='dashboard' : (selectedTab 'dashboard')'nav-link' 
.								'D'
.								click => switchTo 'dashboard'
							(navItem 'dashboard' 'D' 'dashboard')
							(navItem 'my queues' 'Q' 'myqueues')
							(navItem 'teams' 'T' 'organization and teams')
		
		navItem title short tab = DOM.Element "a" [('title', title),('class', concat ['nav-link ', selectedTab tab])] [short] [('click',switchTo tab)]
		
		selectedTab aTab = stringFor (aTab == currentTab) "selected-tab" ""
		
		stringFor false t f = f
		stringFor true t f = t
		
		event switchTo name ev
			currentTab <- name

		implements org.ziniki.Init
			load obj
				
This was an experiment to check that the RHS was correctly rewritten; it gets "_card" where something more like "this" is needed.
#			currentTab <- currentTab 		