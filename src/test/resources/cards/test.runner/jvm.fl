	contract DataStore
		up pushMy (Type t) (Any a)
	contract Echo
		up echoIt (String s)
	contract SetState
	contract MyHandler
		down missing

	entity Account
		
	card TestCard
		state
			Boolean sayHello
			Account acct

		implements SetState
		implements Echo e
		implements DataStore ds
		
		handler MyHandler LocalHandler
			missing
				acct <- Account
				<- ds.pushMy (type Account) Account
# TODO: we should be able to share the "Account" here by defining it in a nested scope
#					a = Account
		
		template
			.
				"hello, world" :  (styleIf 'show' sayHello)
					click => echoHello
				acct.id
					click => echoMessage "fred"
			
		event echoHello ev
			<- e.echoIt "hello clicked"
			
		event echoMessage (String msg) ev
			<- e.echoIt msg

	id x = x
	x = 420

	styleIf style b
		if (b) = style
		else = ''
	